/*! awelzijn-panel v1.0.15 */
"use strict";!function(module){try{module=angular.module("awelzijn.panel")}catch(e){module=angular.module("awelzijn.panel",[])}module.directive("aWelzijnPanel",[function(){return{restrict:"E",replace:!0,transclude:!0,scope:{title:"@",loading:"="},templateUrl:"templates/panel.html"}}])}(),function(module){try{module=angular.module("awelzijn.panel")}catch(e){module=angular.module("awelzijn.panel",[])}module.directive("aWelzijnPanelField",["$compile","$timeout","safeApply",function($compile,$timeout,safeApply){return{restrict:"E",replace:!0,transclude:!0,scope:{title:"@",label:"@",email:"@",colspan:"=",editMode:"=",filter:"@",ngClick:"&"},templateUrl:"templates/panelfield.html",link:function($scope,element,attrs,transclude){function addToObject(value,type,object){if("datepickerRange1"===type)var model=($(value).attr("first-date")||$(value).attr("data-first-date"),$(value).attr("last-date")||$(value).attr("data-last-date"),'<div class="datepicker-input-fields row no-gutter"> <div class=col-sm-6> <div class="faux-input" contenteditable="true">'+$scope.label+'</div></div> <div class=col-sm-6> <div class="faux-input" contenteditable="true">{{label}}</div> </div>'),fake=$(model);else{var ngmodel=$(value).attr("ng-model")||$(value).attr("data-ng-model");console.log($scope.label);var fake=$('<div contenteditable="true" class="faux-input">{{label}}</div>');$(fake).attr("ng-model",ngmodel)}var scope=$(value).scope();return object[type]&&object[type]instanceof Array?object[type].push({real:value,fake:fake,scope:scope}):object[type]=[{real:value,fake:fake,scope:scope}],object}function findEditableFields(element){for(var editableFields={input:"input",select:"select",datepicker:"data-tink-datepicker",timepicker:"tink-timepicker",national:"tink-national-number",datepickerRange:"tink-datepicker-range",tinkIdentity:"tink-identity-number",textarea:"textarea"},calculated={},i=0;i<Object.keys(editableFields).length;i++)for(var currentKey=Object.keys(editableFields)[i],currentValue=editableFields[currentKey],childs=$(element).children(),j=0;j<childs.length;j++){var child=$(childs[j]);child.is(currentValue)&&(calculated=addToObject(child,currentKey,calculated))}return calculated}function setRealInput(){for(var i=0;i<Object.keys(edit).length;i++)for(var currentKey=Object.keys(edit)[i],currentValue=edit[currentKey],j=0;j<currentValue.length;j++){var fake=currentValue[j].fake,real=currentValue[j].real,scopeField=currentValue[j].scope;$(fake).replaceWith(real),formElement.isolateScope().addEvents($(real)),$compile(real)(scopeField)}}function setFakeInput(element){for(var i=0;i<Object.keys(edit).length;i++)for(var currentKey=Object.keys(edit)[i],currentValue=edit[currentKey],j=0;j<currentValue.length;j++)if(currentValue[j]){var fake=currentValue[j].fake,real=currentValue[j].real;currentValue[j].scope;formElement.isolateScope().removeEvents($(real)),$(real).replaceWith(fake),$compile(fake)($scope),fake.bind("mousedown",function(){$timeout(function(){$(real).focusin(),$(real).focus(),openSelect($(real),"focus"),openSelect($(real),"mousedown")},0),formElement.isolateScope().addEvents($(fake))})}}$(element).clone();$scope.colspan?$scope.colspanClass="col-lg-@ col-md-@".replace(/@/g,$scope.colspan):$scope.colspanClass="col-lg-@ col-md-@".replace(/@/g,"6"),$scope.filter||($scope.filter=".trim()");var formElement=element.closest("[tink-fieldset]"),edit=findEditableFields(element.find("[ng-transclude]"));$scope.$watch(function(){return formElement.isolateScope().tinkFormStatus},function(value,old){"mouseFocus"===old?setFakeInput(element):"mouseFocus"===value&&setRealInput()}),setFakeInput(element);var openSelect=function(selector,type){var element=$(selector)[0],worked=!1;if(document.createEvent){var e=document.createEvent("MouseEvents");e.initMouseEvent(type,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),worked=element.dispatchEvent(e)}else element.fireEvent&&(worked=element.fireEvent("onmousedown"))};$scope.hasClickCallback=function(){return angular.isDefined(attrs.ngClick)}}}}]).filter("filterfilter",function($filter){return function(input,filter,d){return $filter("filter")(input,filter,d)}})}(),angular.module("awelzijn.panel").run(["$templateCache",function($templateCache){$templateCache.put("templates/panel.html",'<section class=card> <header class=card-heading> <i class="fa fa-th-large"></i> <h1 class=card-title>{{title}}\n<a class=anchorPijl anchor-smooth-scroll=top></a> </h1> </header> <div class=card-body a-welzijn-loading-overlay loading=loading> <form class="fieldset-editable form-horizontal" tink-form-editable=true tink-fieldset> <div ng-show=!loading ng-transclude></div> </form> </div> </section>'),$templateCache.put("templates/panelfield.html","<div ng-class=colspanClass> <div ng-if=title ng-class=colspanClass class=labelTitle>{{title}}</div> <div ng-class=colspanClass> <div ng-show=editMode class=panel-field-input ng-transclude> <div contenteditable=true class=faux-input>{{label}}</div> </div> <div ng-show=!editMode contenteditable=false disabled class=faux-input>{{label || '-'}}</div> </div> </div>")}]);
//# sourceMappingURL=awelzijn-panel.min.map